
//Includes
var events = require('js/modules/common/base.module.js');
var Lyrics = require('js/modules/lyrics.module.js');
var Enum = require('js/modules/common/enums.js');


//Private


module.exports = Track;

function Track() {

    //******* PUBLIC PROPERTIES *********
	this.properties = null;	//properties object {artist, album, duration, id, name, spotify_url}
	this.lyrics = new Lyrics();

}


//******* PUBLIC FUNCTIONS *********

/*
checks if current track object is set
@Returns: boolean
*/
Track.prototype.isSet = function(){
	if(this.properties && this.properties.id && this.properties.name)
		return true;
	else
		return false;
};

/*
download or import lyrics of current track
@Returns: boolean
*/
Track.prototype.loadLyrics = function(){
	//lyricsDAL = new LyricsDAL();
	//if (lyricsDAL.exits(this.properties.id)) //if track in db already
	//	this.lyrics.text = lyricsDAL.getLyrics(this.properties.id);
	//	this.lyrics.state = ready

	//else //download it from server
	//lyricsService = new LyricsService();
	//lyricsService.download(this.properties.name, function(err, result){
			//if(err)
			//	log error and this.lyrics.state= error code
			//if(result)
			//	make sure result is valid lyrics object, and then this.lyrics.text = result. this.lyrics.state = ready.			
	//})

	//var lrcText = '[ { "lrc_timestamp": "[00:11.45]", "milliseconds": "11450", "line": "I won t lie to you" }, { "lrc_timestamp": "[00:16.03]", "milliseconds": "16030", "line": "I know he s just not right for you" }, { "lrc_timestamp": "[00:21.78]", "milliseconds": "21780", "line": "And you can tell me if I m off" }, { "lrc_timestamp": "[00:23.55]", "milliseconds": "23550", "line": "But I see it on your face" }, { "lrc_timestamp": "[00:25.24]", "milliseconds": "25240", "line": "When you say that he s the one that you want" }, { "lrc_timestamp": "[00:27.73]", "milliseconds": "27730", "line": "And you re spending all your time" }, { "lrc_timestamp": "[00:29.24]", "milliseconds": "29240", "line": "In this wrong situation" }, { "lrc_timestamp": "[00:30.72]", "milliseconds": "30720", "line": "And anytime you want it to stop" }, { "line": "" }, { "lrc_timestamp": "[00:33.44]", "milliseconds": "33440", "line": "I know I can treat you better" }, { "lrc_timestamp": "[00:37.42]", "milliseconds": "37420", "line": "Than he can" }, { "lrc_timestamp": "[00:39.36]", "milliseconds": "39360", "line": "And any girl like you deserves a gentleman" }, { "lrc_timestamp": "[00:44.81]", "milliseconds": "44810", "line": "Tell me why are we wasting time" }, { "lrc_timestamp": "[00:46.53]", "milliseconds": "46530", "line": "On all your wasted crime" }, { "lrc_timestamp": "[00:47.80]", "milliseconds": "47800", "line": "When you should be with me instead" }, { "lrc_timestamp": "[00:50.60]", "milliseconds": "50600", "line": "I know I can treat you better" }, { "lrc_timestamp": "[00:54.98]", "milliseconds": "54980", "line": "Better than he can" }, { "line": "" }, { "lrc_timestamp": "[00:57.17]", "milliseconds": "57170", "line": "I ll stop time for you" }, { "lrc_timestamp": "[01:02.16]", "milliseconds": "62160", "line": "The second you say you d like me too" }, { "lrc_timestamp": "[01:08.16]", "milliseconds": "68160", "line": "I just wanna give you the loving that you re missing" }, { "lrc_timestamp": "[01:11.10]", "milliseconds": "71100", "line": "Baby, just to wake up with you" }, { "lrc_timestamp": "[01:14.42]", "milliseconds": "74420", "line": "Would be everything I need and this could be so different" }, { "lrc_timestamp": "[01:16.66]", "milliseconds": "76660", "line": "Tell me what you want to do" }, { "line": "" }, { "lrc_timestamp": "[01:19.22]", "milliseconds": "79220", "line": " Cause I know I can treat you better" }, { "lrc_timestamp": "[01:22.62]", "milliseconds": "82620", "line": "Than he can" }, { "lrc_timestamp": "[01:25.02]", "milliseconds": "85020", "line": "And any girl like you deserves a gentleman" }, { "lrc_timestamp": "[01:30.81]", "milliseconds": "90810", "line": "Tell me why are we wasting time" }, { "lrc_timestamp": "[01:32.56]", "milliseconds": "92560", "line": "On all on your wasted crime" }, { "lrc_timestamp": "[01:34.11]", "milliseconds": "94110", "line": "When you should be with me instead" }, { "lrc_timestamp": "[01:36.82]", "milliseconds": "96820", "line": "I know I can treat you better" }, { "lrc_timestamp": "[01:41.52]", "milliseconds": "101520", "line": "Better than he can" }, { "line": "" }, { "lrc_timestamp": "[01:47.50]", "milliseconds": "107500", "line": "Better than he can" }, { "line": "" }, { "lrc_timestamp": "[01:54.56]", "milliseconds": "114560", "line": "Give me a sign" }, { "lrc_timestamp": "[01:57.17]", "milliseconds": "117170", "line": "Take my hand, we ll be fine" }, { "lrc_timestamp": "[01:59.83]", "milliseconds": "119830", "line": "Promise I won t let you down" }, { "lrc_timestamp": "[02:05.70]", "milliseconds": "125700", "line": "Just know that you don t" }, { "lrc_timestamp": "[02:08.38]", "milliseconds": "128380", "line": "Have to do this alone" }, { "lrc_timestamp": "[02:11.93]", "milliseconds": "131930", "line": "Promise I ll never let you down" }, { "line": "" }, { "lrc_timestamp": "[02:17.09]", "milliseconds": "137090", "line": " Cause I know I can treat you better" }, { "lrc_timestamp": "[02:20.21]", "milliseconds": "140210", "line": "Than he can" }, { "lrc_timestamp": "[02:22.78]", "milliseconds": "142780", "line": "And any girl like you deserves a gentleman" }, { "lrc_timestamp": "[02:27.90]", "milliseconds": "147900", "line": "Tell me why are we wasting time" }, { "lrc_timestamp": "[02:30.04]", "milliseconds": "150040", "line": "On all on your wasted crime" }, { "lrc_timestamp": "[02:31.83]", "milliseconds": "151830", "line": "When you should be with me instead" }, { "lrc_timestamp": "[02:34.20]", "milliseconds": "154200", "line": "I know I can treat you better" }, { "lrc_timestamp": "[02:39.27]", "milliseconds": "159270", "line": "Better than he can" }, { "line": "" }, { "lrc_timestamp": "[02:44.83]", "milliseconds": "164830", "line": "Better than he can" }, { "lrc_timestamp": "[02:51.06]", "milliseconds": "171060", "line": "Better than he can" } ]';	
	var lrcText = '[{"lrc_timestamp":"[00:30.26]","milliseconds":"30260","duration":"5850","line":"Hey, girl, is he everything you wanted in a man?"},{"lrc_timestamp":"[00:36.11]","milliseconds":"36110","duration":"2990","line":"You know I gave you the world"},{"lrc_timestamp":"[00:39.10]","milliseconds":"39100","duration":"3800","line":"You had me in the palm of your hand"},{"lrc_timestamp":"[00:42.90]","milliseconds":"42900","duration":"2090","line":"So why your love went away"},{"line":""},{"lrc_timestamp":"[00:44.99]","milliseconds":"44990","duration":"3890","line":"I just can\u0027t seem to understand"},{"lrc_timestamp":"[00:48.88]","milliseconds":"48880","duration":"2550","line":"Thought it was me and you, babe"},{"lrc_timestamp":"[00:51.43]","milliseconds":"51430","duration":"2720","line":"Me and you until the end"},{"lrc_timestamp":"[00:54.15]","milliseconds":"54150","duration":"2310","line":"But I guess I was wrong"},{"line":""},{"lrc_timestamp":"[00:56.46]","milliseconds":"56460","duration":"1700","line":"Don\u0027t want to think about it"},{"lrc_timestamp":"[00:58.16]","milliseconds":"58160","duration":"1930","line":"Don\u0027t want to talk about it"},{"lrc_timestamp":"[01:00.09]","milliseconds":"60090","duration":"1070","line":"I\u0027m just so sick about it"},{"lrc_timestamp":"[01:01.16]","milliseconds":"61160","duration":"1940","line":"Can\u0027t believe it\u0027s ending this way"},{"line":""},{"lrc_timestamp":"[01:03.10]","milliseconds":"63100","duration":"1330","line":"Just so confused about it"},{"lrc_timestamp":"[01:04.43]","milliseconds":"64430","duration":"1710","line":"Feeling the blues about it"},{"lrc_timestamp":"[01:06.14]","milliseconds":"66140","duration":"1270","line":"I just can\u0027t do without ya"},{"lrc_timestamp":"[01:07.41]","milliseconds":"67410","duration":"3010","line":"Tell me, is this fair?"},{"line":""},{"lrc_timestamp":"[01:10.42]","milliseconds":"70420","duration":"3590","line":"Is this the way it\u0027s really going down?"},{"lrc_timestamp":"[01:14.01]","milliseconds":"74010","duration":"2890","line":"Is this how we say goodbye?"},{"lrc_timestamp":"[01:16.90]","milliseconds":"76900","duration":"2550","line":"Should have known better when you came around"},{"lrc_timestamp":"[01:19.45]","milliseconds":"79450","duration":"3800","line":"That you were gonna make me cry"},{"lrc_timestamp":"[01:23.25]","milliseconds":"83250","duration":"3000","line":"It\u0027s breaking my heart to watch you run around"},{"lrc_timestamp":"[01:26.25]","milliseconds":"86250","duration":"3150","line":"\u0027Cause I know that you\u0027re living a lie"},{"lrc_timestamp":"[01:29.40]","milliseconds":"89400","duration":"4300","line":"That\u0027s okay, baby, \u0027cause in time you will find"},{"line":""},{"lrc_timestamp":"[01:33.70]","milliseconds":"93700","duration":"1890","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[01:35.59]","milliseconds":"95590","duration":"4550","line":"Comes all the way back around"},{"lrc_timestamp":"[01:40.14]","milliseconds":"100140","duration":"2300","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[01:42.44]","milliseconds":"102440","duration":"4440","line":"Comes all the way back around"},{"lrc_timestamp":"[01:46.88]","milliseconds":"106880","duration":"2160","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[01:49.04]","milliseconds":"109040","duration":"3450","line":"Comes all the way back around"},{"lrc_timestamp":"[01:52.49]","milliseconds":"112490","duration":"2940","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[01:55.43]","milliseconds":"115430","duration":"3670","line":"Comes all the way back around"},{"line":""},{"lrc_timestamp":"[01:59.10]","milliseconds":"119100","duration":"5000","line":"Now girl, I remember everything that you claimed"},{"lrc_timestamp":"[02:04.10]","milliseconds":"124100","duration":"3090","line":"You said that you were moving on now"},{"lrc_timestamp":"[02:07.19]","milliseconds":"127190","duration":"3970","line":"And maybe I should do the same"},{"lrc_timestamp":"[02:11.16]","milliseconds":"131160","duration":"1950","line":"Funny thing about that is"},{"line":""},{"lrc_timestamp":"[02:13.11]","milliseconds":"133110","duration":"3320","line":"I was ready to give you my name"},{"lrc_timestamp":"[02:16.43]","milliseconds":"136430","duration":"3680","line":"Thought it was me and you, babe"},{"lrc_timestamp":"[02:20.11]","milliseconds":"140110","duration":"1840","line":"And now it\u0027s all just a shame"},{"lrc_timestamp":"[02:21.95]","milliseconds":"141950","duration":"2450","line":"And I guess I was wrong"},{"line":""},{"lrc_timestamp":"[02:24.40]","milliseconds":"144400","duration":"2030","line":"Don\u0027t want to think about it"},{"lrc_timestamp":"[02:26.43]","milliseconds":"146430","duration":"1600","line":"Don\u0027t want to talk about it"},{"lrc_timestamp":"[02:28.03]","milliseconds":"148030","duration":"1410","line":"I\u0027m just so sick about it"},{"lrc_timestamp":"[02:29.44]","milliseconds":"149440","duration":"2030","line":"Can\u0027t believe it\u0027s ending this way"},{"line":""},{"lrc_timestamp":"[02:31.47]","milliseconds":"151470","duration":"1220","line":"Just so confused about it"},{"lrc_timestamp":"[02:32.69]","milliseconds":"152690","duration":"1380","line":"Feeling the blues about it"},{"lrc_timestamp":"[02:34.07]","milliseconds":"154070","duration":"4330","line":"I just can\u0027t do without ya can you tell me, is this fair?"},{"line":""},{"lrc_timestamp":"[02:38.40]","milliseconds":"158400","duration":"3580","line":"Is this the way it\u0027s really going down?"},{"lrc_timestamp":"[02:41.98]","milliseconds":"161980","duration":"3470","line":"Is this how we say goodbye?"},{"lrc_timestamp":"[02:45.45]","milliseconds":"165450","duration":"2930","line":"Should have known better when you came around"},{"lrc_timestamp":"[02:48.38]","milliseconds":"168380","duration":"2570","line":"Should have known better that you were gonna make me cry"},{"lrc_timestamp":"[02:50.95]","milliseconds":"170950","duration":"3210","line":"And now it\u0027s breaking my heart to watch you run around"},{"lrc_timestamp":"[02:54.16]","milliseconds":"174160","duration":"3580","line":"\u0027Cause I know that you\u0027re living a lie"},{"lrc_timestamp":"[02:57.74]","milliseconds":"177740","duration":"4150","line":"That\u0027s ok, baby, \u0027cause in time you will find"},{"line":""},{"lrc_timestamp":"[03:01.89]","milliseconds":"181890","duration":"2750","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[03:04.64]","milliseconds":"184640","duration":"3500","line":"Comes all the way back around"},{"lrc_timestamp":"[03:08.14]","milliseconds":"188140","duration":"2560","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[03:10.70]","milliseconds":"190700","duration":"3650","line":"Comes all the way back around"},{"lrc_timestamp":"[03:14.35]","milliseconds":"194350","duration":"2580","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[03:16.93]","milliseconds":"196930","duration":"3630","line":"Comes all the way back around"},{"lrc_timestamp":"[03:20.56]","milliseconds":"200560","duration":"2880","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[03:23.44]","milliseconds":"203440","duration":"3600","line":"Comes all the way back around, yeah"},{"line":""},{"lrc_timestamp":"[03:27.04]","milliseconds":"207040","duration":"3860","line":"What goes around comes around"},{"lrc_timestamp":"[03:30.90]","milliseconds":"210900","duration":"2550","line":"Yeah"},{"lrc_timestamp":"[03:33.45]","milliseconds":"213450","duration":"2650","line":"What goes around comes around"},{"lrc_timestamp":"[03:36.10]","milliseconds":"216100","duration":"3690","line":"You should know that"},{"line":""},{"lrc_timestamp":"[03:39.79]","milliseconds":"219790","duration":"2310","line":"What goes around comes around"},{"lrc_timestamp":"[03:42.10]","milliseconds":"222100","duration":"4090","line":"Yeah"},{"lrc_timestamp":"[03:46.19]","milliseconds":"226190","duration":"2910","line":"What goes around comes around"},{"lrc_timestamp":"[03:49.10]","milliseconds":"229100","duration":"3800","line":"You should know that"},{"line":""},{"lrc_timestamp":"[03:52.90]","milliseconds":"232900","duration":"2080","line":"Don\u0027t want to think about it"},{"lrc_timestamp":"[03:54.98]","milliseconds":"234980","duration":"1250","line":"Don\u0027t want to talk about it"},{"lrc_timestamp":"[03:56.23]","milliseconds":"236230","duration":"1340","line":"I\u0027m just so sick about it"},{"lrc_timestamp":"[03:57.57]","milliseconds":"237570","duration":"1740","line":"Can\u0027t believe it\u0027s ending this way"},{"line":""},{"lrc_timestamp":"[03:59.31]","milliseconds":"239310","duration":"890","line":"Just so confused about it"},{"lrc_timestamp":"[04:00.20]","milliseconds":"240200","duration":"2090","line":"Feeling the blues about it"},{"lrc_timestamp":"[04:02.29]","milliseconds":"242290","duration":"1720","line":"I just can\u0027t do without ya"},{"lrc_timestamp":"[04:04.01]","milliseconds":"244010","duration":"3090","line":"Tell me, is this fair?"},{"line":""},{"lrc_timestamp":"[04:07.10]","milliseconds":"247100","duration":"2900","line":"Is this the way it\u0027s really going down?"},{"lrc_timestamp":"[04:10.00]","milliseconds":"250000","duration":"3960","line":"Is this how we say goodbye?"},{"lrc_timestamp":"[04:13.96]","milliseconds":"253960","duration":"1140","line":"Should have known better when you came around"},{"lrc_timestamp":"[04:15.10]","milliseconds":"255100","duration":"5750","line":"Should have known better that you were gonna make me cry"},{"lrc_timestamp":"[04:20.85]","milliseconds":"260850","duration":"5250","line":"It\u0027s breaking my heart to watch you run around (\u0027cause I know that you\u0027re living a lie)"},{"lrc_timestamp":"[04:26.10]","milliseconds":"266100","duration":"3370","line":"That\u0027s ok, baby, \u0027cause in time you will find"},{"line":""},{"lrc_timestamp":"[04:29.47]","milliseconds":"269470","duration":"2760","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[04:32.23]","milliseconds":"272230","duration":"3980","line":"Comes all the way back around"},{"lrc_timestamp":"[04:36.21]","milliseconds":"276210","duration":"2620","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[04:38.83]","milliseconds":"278830","duration":"4000","line":"Comes all the way back around"},{"lrc_timestamp":"[04:42.83]","milliseconds":"282830","duration":"2610","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[04:45.44]","milliseconds":"285440","duration":"3390","line":"Comes all the way back around"},{"lrc_timestamp":"[04:48.83]","milliseconds":"288830","duration":"2370","line":"What goes around, goes around, goes around"},{"lrc_timestamp":"[04:51.20]","milliseconds":"291200","duration":"4200","line":"Comes all the way back around, yeah"},{"line":""},{"lrc_timestamp":"[05:29.90]","milliseconds":"329900","duration":"3500","line":"Let me paint this picture for you, baby"},{"line":""},{"lrc_timestamp":"[05:33.40]","milliseconds":"333400","duration":"2820","line":"You spend your nights alone And he never comes home"},{"lrc_timestamp":"[05:36.22]","milliseconds":"336220","duration":"3240","line":"And every time you call him All you get is a busy tone"},{"line":""},{"lrc_timestamp":"[05:39.46]","milliseconds":"339460","duration":"1440","line":"I heard you found out"},{"lrc_timestamp":"[05:40.90]","milliseconds":"340900","duration":"3200","line":"That he\u0027s doing to you what you did to me"},{"lrc_timestamp":"[05:44.10]","milliseconds":"344100","duration":"2060","line":"Ain\u0027t that the way it goes"},{"line":""},{"lrc_timestamp":"[05:46.16]","milliseconds":"346160","duration":"1370","line":"You cheated, girl"},{"lrc_timestamp":"[05:47.53]","milliseconds":"347530","duration":"1490","line":"My heart bleeded, girl"},{"lrc_timestamp":"[05:49.02]","milliseconds":"349020","duration":"2960","line":"So it goes without saying that you left me feeling hurt"},{"lrc_timestamp":"[05:51.98]","milliseconds":"351980","duration":"3240","line":"Just a classic case scenario"},{"lrc_timestamp":"[05:55.22]","milliseconds":"355220","duration":"3250","line":"Tale as old as time girl, you got what you deserved"},{"line":""},{"lrc_timestamp":"[05:58.47]","milliseconds":"358470","duration":"3410","line":"And now you want somebody To cure the lonely nights"},{"lrc_timestamp":"[06:01.88]","milliseconds":"361880","duration":"2610","line":"You wish you had somebody That could come and make it right"},{"line":""},{"lrc_timestamp":"[06:04.49]","milliseconds":"364490","duration":"3210","line":"But girl, I ain\u0027t somebody with a lot of sympathy"},{"lrc_timestamp":"[06:07.70]","milliseconds":"367700","duration":"1400","line":"You\u0027ll see, see"},{"line":""},{"lrc_timestamp":"[06:09.10]","milliseconds":"369100","duration":"3120","line":"(What goes around comes back around)"},{"lrc_timestamp":"[06:12.22]","milliseconds":"372220","duration":"3330","line":"I thought I told ya, hey"},{"lrc_timestamp":"[06:15.55]","milliseconds":"375550","duration":"2610","line":"(What goes around comes back around)"},{"lrc_timestamp":"[06:18.16]","milliseconds":"378160","duration":"3760","line":"I thought I told ya, hey"},{"line":""},{"lrc_timestamp":"[06:21.92]","milliseconds":"381920","duration":"3200","line":"(What goes around comes back around)"},{"lrc_timestamp":"[06:25.12]","milliseconds":"385120","duration":"3180","line":"I thought I told ya, hey"},{"lrc_timestamp":"[06:28.30]","milliseconds":"388300","duration":"2800","line":"(What goes around comes back around)"},{"lrc_timestamp":"[06:31.10]","milliseconds":"391100","duration":"11590","line":"I thought I told ya, hey"},{"line":""},{"lrc_timestamp":"[06:42.69]","milliseconds":"402690","duration":"6600","line":"See, you should have listened to me, baby"},{"lrc_timestamp":"[06:49.29]","milliseconds":"409290","duration":"9420","line":"(Hey)"},{"lrc_timestamp":"[06:58.71]","milliseconds":"418710","duration":"4180","line":"Because what goes around comes back around"}]';
	this.lyrics.setText(lrcText);
 

};